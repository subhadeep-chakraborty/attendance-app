<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - Class Monitor App</title>
    <link rel="stylesheet" th:href="@{/style.css}">
</head>
<body>
<header>
    <h1>Class Monitor App</h1>
</header>

<main>
    <h2>Login</h2>

    <!-- Session timeout message -->
    <div th:if="${timeout}" style="color:orange;">
        Your session has timed out. Please log in again.
    </div>

    <!-- Login error message -->
    <div th:if="${error}" style="color:red;">
        Invalid email or password.
    </div>

    <form method="POST" th:action="@{/login}">
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required>

        <label for="password">Password:</label>
        <input type="password" id="password" name="password" required>

        <button type="submit">Sign In</button>
    </form>

    <p><a th:href="@{/forgot-password}">Forgot Password?</a></p>
    <p>Not registered? <a th:href="@{/registration}">Register now</a></p>

    <div th:if="${registrationSuccess}" class="message success">
        Registration successful! Please log in.
    </div>

    <div th:if="${registrationError}" class="message error">
        Registration failed: Email already exists.
    </div>
    <div th:if="${error}">Invalid username or password.</div>
    <div th:if="${emailNotVerified}">Your email is not verified. Please check your inbox.</div>
    <div th:if="${notApproved}">Your account is not approved by admin yet.</div>
    <div th:if="${timeout}">Session timed out. Please log in again.</div>
    <div th:if="${logout}">You have been logged out.</div>
    <div th:if="${registrationSuccess}">Registration successful! Please verify your email.</div>
    <div th:if="${registrationError}">Registration failed. Try again.</div>

</main>
</body>
</html>
